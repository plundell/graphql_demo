[{"/home/buck/Documents/software/formulate_graphql/src/index.tsx":"1","/home/buck/Documents/software/formulate_graphql/src/services/countries-api/countries-api.service.ts":"2","/home/buck/Documents/software/formulate_graphql/src/services/assert.helper.ts":"3","/home/buck/Documents/software/formulate_graphql/src/services/countries-api/types.ts":"4","/home/buck/Documents/software/formulate_graphql/src/components/completion-input.d/completion-input.component.tsx":"5","/home/buck/Documents/software/formulate_graphql/src/services/countries-api/queries.ts":"6","/home/buck/Documents/software/formulate_graphql/src/components/country-search.d/country-search.component.tsx":"7","/home/buck/Documents/software/formulate_graphql/src/components/tiles.d/tile-grid.component.tsx":"8","/home/buck/Documents/software/formulate_graphql/src/components/tiles.d/tile.component.tsx":"9","/home/buck/Documents/software/formulate_graphql/src/components/country-search.d/country-results.component.tsx":"10"},{"size":515,"mtime":1672770536847,"results":"11","hashOfConfig":"12"},{"size":1280,"mtime":1672770280775,"results":"13","hashOfConfig":"12"},{"size":934,"mtime":1671646230805,"results":"14","hashOfConfig":"15"},{"size":8539,"mtime":1673558571906,"results":"16","hashOfConfig":"12"},{"size":5052,"mtime":1673561325451,"results":"17","hashOfConfig":"12"},{"size":1551,"mtime":1673558571946,"results":"18","hashOfConfig":"12"},{"size":3538,"mtime":1673544959218,"results":"19","hashOfConfig":"12"},{"size":1520,"mtime":1673463778757,"results":"20","hashOfConfig":"12"},{"size":1325,"mtime":1673544561273,"results":"21","hashOfConfig":"12"},{"size":4807,"mtime":1673560723352,"results":"22","hashOfConfig":"12"},{"filePath":"23","messages":"24","suppressedMessages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"18gqgab",{"filePath":"27","messages":"28","suppressedMessages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":1,"fixableWarningCount":0,"source":null},"1jixtdr",{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":2,"source":null},{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":1,"source":"45","usedDeprecatedRules":"26"},{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"26"},{"filePath":"50","messages":"51","suppressedMessages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"26"},{"filePath":"54","messages":"55","suppressedMessages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":1,"source":null},"/home/buck/Documents/software/formulate_graphql/src/index.tsx",[],[],[],"/home/buck/Documents/software/formulate_graphql/src/services/countries-api/countries-api.service.ts",[],[],"/home/buck/Documents/software/formulate_graphql/src/services/assert.helper.ts",["57","58"],[],"/home/buck/Documents/software/formulate_graphql/src/services/countries-api/types.ts",[],[],"/home/buck/Documents/software/formulate_graphql/src/components/completion-input.d/completion-input.component.tsx",["59","60"],["61","62"],"/home/buck/Documents/software/formulate_graphql/src/services/countries-api/queries.ts",[],[],"/home/buck/Documents/software/formulate_graphql/src/components/country-search.d/country-search.component.tsx",["63","64","65"],[],"import React from 'react'\nimport {CompletionInput,OnSubmitHandler} from 'components/completion-input.d/completion-input.component'\nimport CountryResults from './country-results.component';\nimport \"./country-search.css\";\nimport {graphql,EntityType,toEntityType,Scalars} from 'services/countries-api/countries-api.service';\n\nexport interface Entity{\n\tvalue:Scalars['String']\n\t,code:Scalars['ID']\n\t,type:EntityType\n\t,key:Scalars['String']\n\t,html?:JSX.Element|JSX.Element[]\n}\n\nexport type NullableEntityArray=Entity[]|null;\n\nconst settings={\n\tdebounce:300\n\t,maxResults:20\n}\n\nexport interface Props {\n}\ninterface State{\n\tresults:NullableEntityArray\n\t,selected:string[]\n}\n\nexport class CountrySearch extends React.Component<Props,State> {\n\n\tprivate entities:NullableEntityArray=null;\n\n\tprivate resultsComponent:CountryResults|null=null;\n\n\tconstructor(props:Props){\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\tresults:null\n\t\t\t,selected:[]\n\t\t};\n\t\tgraphql.getNamesAndCodes({})\n\t\t\t.then(data=>{\n\t\t\t\tconst list:typeof this.entities=[];\n\t\t\t\tObject.entries(data).forEach(([t,arr])=>{\n\t\t\t\t\tif(Array.isArray(arr)){\n\t\t\t\t\t\tconst type=toEntityType(t)\n\t\t\t\t\t\tarr.forEach(({code,name})=>{\n\t\t\t\t\t\t\tcode=code.toUpperCase()\n\t\t\t\t\t\t\tconst value=String(name||code);\n\t\t\t\t\t\t\tconst key:Entity[\"key\"]=`${code}-${type}`.toLowerCase();\n\t\t\t\t\t\t\tlist.push({key, value, code, type});\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tif(list.length)\n\t\t\t\t\tthis.entities=list\n\t\t\t})\n\t}\n\n\tgetCompletions(search:string,entities:NullableEntityArray):NullableEntityArray {\n\t\tconsole.log(\"getting completions for:\",search);\n\t\tif(!entities)\n\t\t\tentities=this.entities; //if no subset of entities are passed in then use the entire list\n\t\telse if(!entities.length){\n\t\t\treturn [];\n\t\t}\n\t\t// console.log(\"Check for completions to '\"+search+\"' in:\",entities)\n\t\t\n\t\tif(!entities || !entities.length)\n\t\t\treturn null;\n\n\t\tconst regex1=new RegExp((search.length<3 ? '(^)(' : '(.*)(')+search+')(.*)','i'); //short strings we only match begining\n\t\tconst regex2=new RegExp('^'+search,'i'); //short strings we only match begining\n\t\tconst fn=(e:any,p:any)=>(e.html=CountrySearch.getCompletionItemHtml(p=='type'?regex2:regex1,e,p));\n\t\tvar results=[];\n\t\tif(search.length<3)\n\t\t\tresults=entities.filter(ent=>fn(ent,'value')||fn(ent,'code'));\n\t\telse\n\t\t\tresults=entities.filter(ent=>fn(ent,'value')||fn(ent,'type'));\n\t\tthis.setState({results:results.slice(0,settings.maxResults)})\n\t\t //^we only show the xxx first results\n\t\treturn results;\n\t}\n\n\t\n\n\trender(){\n\t\treturn (\n\t\t\t<div className={this.constructor.name}>\n\t\t\t\t<CompletionInput \n\t\t\t\t\tdebounce={settings.debounce} \n\t\t\t\t\tonInput={this.getCompletions.bind(this)}\n\t\t\t\t\tonEmpty={()=>{this.setState({results:null})}}\n\t\t\t\t\tonClear={()=>this.resultsComponent?.clearSelected()}\n\t\t\t\t/>\n\t\t\t\t<CountryResults \n\t\t\t\t\tresults={this.state?.results||null}\n\t\t\t\t\tregister={(child)=>this.resultsComponent=child}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n\n\n\n\n\n\n\n\tstatic getCompletionItemHtml(regex:RegExp,ent:Entity,prop:\"value\"|\"code\"|'type'):JSX.Element[]|undefined{\n\t\tconst match=ent[prop].match(regex);\n\t\tif(match){\n\t\t\tconst htmlArr:JSX.Element[]=[];\n\t\t\tif(prop=='type'){\n\t\t\t\thtmlArr.push((<span>{ent.value}</span>))\n\t\t\t}else{\n\t\t\t\tif(match[1]) htmlArr.push((<span>{match[1]}</span>))\n\t\t\t\thtmlArr.push((<span className=\"highlight\">{match[2]}</span>))\n\t\t\t\tif(match[3]) htmlArr.push((<span>{match[3]}</span>))\n\t\t\t\tif(prop=='code')\n\t\t\t\t\thtmlArr.push((<span> - {ent.value}</span>))\n\t\t\t}\n\t\t\thtmlArr.push((<span className=\"type\">{ent.type}</span>))\n\t\t\treturn htmlArr\n\t\t}\n\t\treturn undefined;\n\t}\n\n\n}\n\nexport default CountrySearch\n\n\n","/home/buck/Documents/software/formulate_graphql/src/components/tiles.d/tile-grid.component.tsx",["66","67"],[],"import React from 'react'\nimport {Tile, Props as TileProps,Renderable} from './tile.component'\nexport {Tile} from './tile.component'\n\nexport type NullableTiles = Record<string,Omit<TileProps,'whileLoading'>>|null\n\nexport type Props={\n\ttiles: NullableTiles//null => don't show onEmptyResults\n\twhileLoading?:TileProps[\"whileLoading\"]\n\tonEmptyResults?:Renderable\n}\n\nconst defaultProps={\n\twhileLoading:(<span className='loading'></span>)\n\t,onEmptyResults:(<div className='emptyResults'>No results</div>)\n}\n\nexport class TileGrid extends React.Component<Props> {\n\t\n\tprivate _ID:number;\n\tlog(...args:any[]){\n\t\tconsole.log(this._ID,`<${this.constructor.name}>`,...args);\n\t}\n\n\tprivate _props:Required<Props>\n\n\tconstructor(props:Props){\n\t\tsuper(props);\n\t\tthis._props=Object.assign({},defaultProps,props);\n\t\tthis._ID=Math.floor(Math.random()*10000);\n\t\tthis.log(\"creating:\",Object.values(this._props.tiles||{}).map(t=>(`${t.title}${t.content instanceof Promise ?'*':''}`)).join(', '));\n\t}\n\n\n  \trender() {\n  \t\tif(this.props.tiles){\n  \t\t\tvar tiles=Object.entries(this.props.tiles);\n  \t\t\tif(!tiles.length)\n  \t\t\t\treturn this._props.onEmptyResults\n  \t\t}else{\n  \t\t\treturn ''\n  \t\t}\n\n  \t\tthis.log(\"rendering:\",tiles.map(([k,t])=>(`${t.title}${t.content instanceof Promise ?'*':''}`)).join(', '));\n  \t\treturn (\n\t\t\t<div className=\"tileGrid\">\n\t\t\t\t{tiles.map(([key,tileProps])=>\n\t\t\t\t\t<Tile \n\t\t\t\t\t\tkey={key} \n\t\t\t\t\t\twhileLoading={this._props.whileLoading}\n\t\t\t\t\t\t{...tileProps} \n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>  \n  \t\t)\n  \t}\n\n}\n\n\nexport default TileGrid\n","/home/buck/Documents/software/formulate_graphql/src/components/tiles.d/tile.component.tsx",["68"],[],"import React from 'react'\nimport \"./tiles.css\";\n\nexport type Renderable=JSX.Element|JSX.Element[]|string\n\nexport interface Props {\n\ttitle:string\n\tcontent:Renderable|Promise<Renderable>\n\t,onClick?:(this:Tile|null)=>void\n\t,whileLoading?:Renderable\n\t,classNames?:string[]\n}\nexport interface State {\n\tcontent:Renderable\n}\n\nexport class Tile extends React.Component<Props,State>{\n\tprivate _ID:number;\n\tlog(...args:any[]){\n\t\tconsole.log(this._ID,`<${this.constructor.name}>`,...args);\n\t}\n\t\n\t//create a fake input element as a placeholder\n\tpublic elem:HTMLElement=document.createElement('div');\n\t\n\tconstructor(props:Props){\n\t\tsuper(props);\n\t\tthis._ID=Math.floor(Math.random()*10000);\n\t\tconst c=this.props.content\n\t\tthis.state={\n\t\t\tcontent:(props.content instanceof Promise ? props.whileLoading||'' : props.content)\n\t\t}\n\t\tif(props.content instanceof Promise)\n\t\t\tprops.content.then(content=>this.setState({content}));\n\n\t\tthis.log(\"constructor:\",props.title);\n\t}\n\n\trender(){\n\t\tconst classNames=['tile'].concat(this.props.classNames||[]).join(' ');\n\t\treturn (\n\t\t\t<div \n\t\t\t\tref={elem=>{if(elem)this.elem=elem;}}\n\t\t\t\tclassName={classNames}\n\t\t\t\tonClick={this.props.onClick?.bind(this)}\n\t\t\t>\n\t\t\t\t<div className=\"title\">{this.props.title}</div>\n\t\t\t\t<div className=\"content\">{this.state.content}</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Tile","/home/buck/Documents/software/formulate_graphql/src/components/country-search.d/country-results.component.tsx",["69","70","71","72"],["73","74"],{"ruleId":"75","severity":2,"message":"76","line":7,"column":27,"nodeType":"77","messageId":"78","endLine":7,"endColumn":35},{"ruleId":"75","severity":2,"message":"79","line":13,"column":46,"nodeType":"77","messageId":"78","endLine":13,"endColumn":53,"fix":"80"},{"ruleId":"81","severity":1,"message":"82","line":153,"column":1,"nodeType":"83","messageId":"84","endLine":153,"endColumn":4,"fix":"85"},{"ruleId":"81","severity":1,"message":"86","line":172,"column":1,"nodeType":"87","messageId":"84","endLine":172,"endColumn":5,"fix":"88"},{"ruleId":"89","severity":1,"message":"90","line":77,"column":3,"nodeType":"91","messageId":"92","endLine":77,"endColumn":44,"fix":"93","suppressions":"94"},{"ruleId":"89","severity":1,"message":"90","line":94,"column":3,"nodeType":"91","messageId":"92","endLine":94,"endColumn":17,"fix":"95","suppressions":"96"},{"ruleId":"97","severity":1,"message":"98","line":2,"column":25,"nodeType":"77","messageId":"99","endLine":2,"endColumn":40},{"ruleId":"100","severity":1,"message":"101","line":22,"column":18,"nodeType":"77","messageId":"102","endLine":22,"endColumn":23},{"ruleId":"89","severity":1,"message":"90","line":75,"column":3,"nodeType":"91","messageId":"92","endLine":75,"endColumn":18,"fix":"103"},{"ruleId":"89","severity":1,"message":"90","line":37,"column":6,"nodeType":"91","messageId":"92","endLine":37,"endColumn":49},{"ruleId":"97","severity":1,"message":"104","line":44,"column":39,"nodeType":"77","messageId":"99","endLine":44,"endColumn":40},{"ruleId":"97","severity":1,"message":"105","line":29,"column":9,"nodeType":"77","messageId":"99","endLine":29,"endColumn":10},{"ruleId":"97","severity":1,"message":"106","line":19,"column":10,"nodeType":"77","messageId":"99","endLine":19,"endColumn":21},{"ruleId":"97","severity":1,"message":"107","line":47,"column":14,"nodeType":"77","messageId":"99","endLine":47,"endColumn":17},{"ruleId":"89","severity":1,"message":"90","line":151,"column":4,"nodeType":"91","messageId":"92","endLine":151,"endColumn":12,"fix":"108"},{"ruleId":"97","severity":1,"message":"109","line":151,"column":8,"nodeType":"77","messageId":"99","endLine":151,"endColumn":9},{"ruleId":"110","severity":2,"message":"111","line":126,"column":13,"nodeType":"77","messageId":"112","endLine":126,"endColumn":17,"fix":"113","suppressions":"114"},{"ruleId":"110","severity":2,"message":"115","line":126,"column":18,"nodeType":"77","messageId":"112","endLine":126,"endColumn":23,"fix":"116","suppressions":"117"},"@typescript-eslint/ban-types","Don't use `Function` as a type. The `Function` type accepts any function-like value.\nIt provides no type safety when calling the function, which can be a common source of bugs.\nIt also accepts things like class declarations, which will throw at runtime as they will not be called with `new`.\nIf you are expecting the function to accept certain arguments, you should explicitly define the function shape.","Identifier","bannedTypeMessage","Don't use `Boolean` as a type. Use boolean instead",{"range":"118","text":"119"},"indent","Expected indentation of 4 tabs but found 3.","Keyword","wrongIndentation",{"range":"120","text":"121"},"Expected indentation of 5 tabs but found 4.","Punctuator",{"range":"122","text":"123"},"no-var","Unexpected var, use let or const instead.","VariableDeclaration","unexpectedVar",{"range":"124","text":"125"},["126"],{"range":"127","text":"125"},["128"],"@typescript-eslint/no-unused-vars","'OnSubmitHandler' is defined but never used.","unusedVar","@typescript-eslint/no-empty-interface","An empty interface is equivalent to `{}`.","noEmpty",{"range":"129","text":"125"},"'k' is defined but never used.","'c' is assigned a value but never used.","'randomDelay' is defined but never used.","'key' is defined but never used.",{"range":"130","text":"125"},"'i' is assigned a value but never used.","prefer-const","'prop' is never reassigned. Use 'const' instead.","useConst",{"range":"131","text":"132"},["133"],"'value' is never reassigned. Use 'const' instead.",{"range":"134","text":"132"},["135"],[245,252],"boolean",[4069,4072],"\t\t\t\t",[4616,4620],"\t\t\t\t\t",[2082,2085],"let",{"kind":"136","justification":"137"},[2607,2610],{"kind":"136","justification":"138"},[2136,2139],[4254,4257],[3349,3365],"const [prop,value]",{"kind":"136","justification":"138"},[3349,3365],{"kind":"136","justification":"138"},"directive","explicitly refers to entire function",""]