{"ast":null,"code":"import { graphql, NamesAndCodesDocument } from 'services/countries-api/countries-api.service';\nfunction makeEntityArray(data) {\n  const list = [];\n  Object.entries(data).forEach(_ref => {\n    let [type, arr] = _ref;\n    if (arr != 'Query') {\n      arr.forEach(_ref2 => {\n        let {\n          code,\n          name\n        } = _ref2;\n        list.push({\n          code,\n          name: String(name),\n          type: type\n        });\n      });\n    }\n  });\n  return list;\n}\nexport function getNamesAndCodes() {\n  return graphql.request(NamesAndCodesDocument).then(makeEntityArray);\n}\nexport default getNamesAndCodes;","map":{"version":3,"names":["graphql","NamesAndCodesDocument","makeEntityArray","data","list","Object","entries","forEach","type","arr","code","name","push","String","getNamesAndCodes","request","then"],"sources":["/home/buck/Documents/software/formulate_graphql/src/components/country-input.d/names-and-codes.query.ts"],"sourcesContent":["import {\n  graphql,\n  EntityType,\n  Scalars,\n  NamesAndCodesQuery,\n  NamesAndCodesQueryVariables,\n  NamesAndCodesDocument\n} from 'services/countries-api/countries-api.service';\n\n\nexport interface Entity{\n  name:Scalars['String']\n  ,code:Scalars['ID']\n  ,type:EntityType\n}\n\nexport type EntityArray=Array<Entity>;\n\nfunction makeEntityArray(data:NamesAndCodesQuery){\n  const list:EntityArray=[];\n  Object.entries(data).forEach(([type,arr])=>{\n    if(arr!='Query'){\n      arr.forEach(({code,name})=>{\n        list.push({code, name:String(name), type:(type as unknown as EntityType)});\n      })\n    }\n  })\n  return list\n}\n\nexport function getNamesAndCodes(){\n  return graphql.request<NamesAndCodesQuery,NamesAndCodesQueryVariables>(NamesAndCodesDocument).then(makeEntityArray)\n}\n\nexport default getNamesAndCodes;\n\n"],"mappings":"AAAA,SACEA,OAAO,EAKPC,qBAAqB,QAChB,8CAA8C;AAWrD,SAASC,eAAe,CAACC,IAAuB,EAAC;EAC/C,MAAMC,IAAgB,GAAC,EAAE;EACzBC,MAAM,CAACC,OAAO,CAACH,IAAI,CAAC,CAACI,OAAO,CAAC,QAAc;IAAA,IAAb,CAACC,IAAI,EAACC,GAAG,CAAC;IACtC,IAAGA,GAAG,IAAE,OAAO,EAAC;MACdA,GAAG,CAACF,OAAO,CAAC,SAAe;QAAA,IAAd;UAACG,IAAI;UAACC;QAAI,CAAC;QACtBP,IAAI,CAACQ,IAAI,CAAC;UAACF,IAAI;UAAEC,IAAI,EAACE,MAAM,CAACF,IAAI,CAAC;UAAEH,IAAI,EAAEA;QAA8B,CAAC,CAAC;MAC5E,CAAC,CAAC;IACJ;EACF,CAAC,CAAC;EACF,OAAOJ,IAAI;AACb;AAEA,OAAO,SAASU,gBAAgB,GAAE;EAChC,OAAOd,OAAO,CAACe,OAAO,CAAiDd,qBAAqB,CAAC,CAACe,IAAI,CAACd,eAAe,CAAC;AACrH;AAEA,eAAeY,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}