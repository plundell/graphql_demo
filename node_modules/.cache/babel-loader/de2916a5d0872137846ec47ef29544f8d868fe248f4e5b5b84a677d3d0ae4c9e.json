{"ast":null,"code":"import _classPrivateFieldLooseBase from \"/home/buck/Documents/software/formulate_graphql/node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseBase.js\";\nimport _classPrivateFieldLooseKey from \"/home/buck/Documents/software/formulate_graphql/node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseKey.js\";\nvar _jsxFileName = \"/home/buck/Documents/software/formulate_graphql/src/components/input.component.tsx\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _inputHandler = /*#__PURE__*/_classPrivateFieldLooseKey(\"inputHandler\");\nexport default class Input extends React.Component {\n  constructor() {\n    super(...arguments);\n    Object.defineProperty(this, _inputHandler, {\n      value: _inputHandler2\n    });\n    this.lastSearch = '';\n    this.lastResult = [];\n    this.state = {\n      matchCount: -1\n    };\n    this.matches = [];\n  }\n  get inputHandler() {\n    var _this$props;\n    if ((_this$props = this.props) !== null && _this$props !== void 0 && _this$props.debounce && this.props.debounce > 0) return Input.debounce(_classPrivateFieldLooseBase(this, _inputHandler)[_inputHandler], this.props.debounce, this);else return _classPrivateFieldLooseBase(this, _inputHandler)[_inputHandler].bind(this);\n  }\n  static debounce(fn, delay) {\n    let self = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : window;\n    var timer;\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      clearTimeout(timer);\n      timer = setTimeout(() => fn.apply(self, args), delay);\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"{this.props.id\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search...\",\n        onInput: this.inputHandler,\n        autoFocus: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 4\n      }, this), this.state.matchCount > -1 ? /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"Matches: \", this.state.matchCount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 32\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 3\n    }, this);\n  }\n}\nfunction _inputHandler2(event) {\n  if (event.target.value) {\n    this.matches = Input.findMatchingNames(event.target.value);\n    console.log(event.target.value, '=', arr);\n    this.setState({\n      matchCount: this.matches.length\n    });\n    if (this.state.matchCount) {\n      var _this$props2;\n      if (typeof ((_this$props2 = this.props) === null || _this$props2 === void 0 ? void 0 : _this$props2.onResults) == 'function') {\n        this.props.onResults(this.matches);\n      } else {\n        promise.then(console.log, console.error);\n      }\n    }\n  }\n}","map":{"version":3,"names":["React","Input","Component","lastSearch","lastResult","state","matchCount","matches","inputHandler","props","debounce","bind","fn","delay","self","window","timer","args","clearTimeout","setTimeout","apply","render","event","target","value","findMatchingNames","console","log","arr","setState","length","onResults","promise","then","error"],"sources":["/home/buck/Documents/software/formulate_graphql/src/components/input.component.tsx"],"sourcesContent":["import React from 'react'\n\nexport type InputCompletionReturnType=Array<{name:string}>\n\ninterface InputCompletionFunction {\n\t(search:string,lastResult?:InputCompletionReturnType):InputCompletionReturnType\n} \n\ninterface InputPropsInterface {\n\tid?:string,\n\tdebounce?:number,\n\tgetCompletions?:InputCompletionFunction,\n}\n\ninterface InputStateInterface {\n\tmatchCount:number\n}\n\nexport default class Input extends React.Component<InputPropsInterface> {\n\n\n\tpublic lastSearch:string='';\n\tpublic lastResult:InputCompletionReturnType=[];\n\tpublic state:InputStateInterface={matchCount:-1}\n\n\n\t\n\tget inputHandler(){\n\t\tif(this.props?.debounce && this.props.debounce>0)\n\t\t\treturn Input.debounce(this.#inputHandler,this.props.debounce,this);\n\t\telse\n\t\t\treturn this.#inputHandler.bind(this);\n\t}\n\n\tmatches=[];\n\t#inputHandler(event){\n\t\tif(event.target.value){\n\t\t\tthis.matches=Input.findMatchingNames(event.target.value);\n\t\t\tconsole.log(event.target.value,'=',arr);\n\t\t\tthis.setState({matchCount:this.matches.length})\n\t\t\tif(this.state.matchCount){\n\t\t\t\tif(typeof this.props?.onResults=='function'){\n\t\t\t\t\tthis.props.onResults(this.matches);\n\t\t\t\t}else{\n\t\t\t\t\tpromise.then(console.log,console.error);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tstatic debounce(fn:Function,delay:number,self:any=window){\n\t\tvar timer:Timeout;\n\t\treturn (...args:any)=>{\n\t\t\tclearTimeout(timer);\n\t\t\ttimer=setTimeout(()=>fn.apply(self,args),delay);\n\t\t}\n\t}\n   \n\trender(){return (\n\t\t<div id=\"{this.props.id\">\n\t\t\t<input type=\"text\" placeholder=\"Search...\" onInput={this.inputHandler} autoFocus></input>\n\t\t\t{this.state.matchCount>-1 ? <span>Matches: {this.state.matchCount}</span> : null }\n\t\t</div>\n\t);}\n\n\n}\n\n\n\n"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AAAA;AAAA;AAkBzB,eAAe,MAAMC,KAAK,SAASD,KAAK,CAACE,SAAS,CAAsB;EAAA;IAAA;IAAA;MAAA;IAAA;IAAA,KAGhEC,UAAU,GAAQ,EAAE;IAAA,KACpBC,UAAU,GAA2B,EAAE;IAAA,KACvCC,KAAK,GAAqB;MAACC,UAAU,EAAC,CAAC;IAAC,CAAC;IAAA,KAWhDC,OAAO,GAAC,EAAE;EAAA;EAPV,IAAIC,YAAY,GAAE;IAAA;IACjB,IAAG,mBAAI,CAACC,KAAK,wCAAV,YAAYC,QAAQ,IAAI,IAAI,CAACD,KAAK,CAACC,QAAQ,GAAC,CAAC,EAC/C,OAAOT,KAAK,CAACS,QAAQ,6BAAC,IAAI,iCAAe,IAAI,CAACD,KAAK,CAACC,QAAQ,EAAC,IAAI,CAAC,CAAC,KAEnE,OAAO,gCAAI,gCAAeC,IAAI,CAAC,IAAI,CAAC;EACtC;EAkBA,OAAOD,QAAQ,CAACE,EAAW,EAACC,KAAY,EAAiB;IAAA,IAAhBC,IAAQ,uEAACC,MAAM;IACvD,IAAIC,KAAa;IACjB,OAAO,YAAe;MAAA,kCAAXC,IAAI;QAAJA,IAAI;MAAA;MACdC,YAAY,CAACF,KAAK,CAAC;MACnBA,KAAK,GAACG,UAAU,CAAC,MAAIP,EAAE,CAACQ,KAAK,CAACN,IAAI,EAACG,IAAI,CAAC,EAACJ,KAAK,CAAC;IAChD,CAAC;EACF;EAEAQ,MAAM,GAAE;IAAC,oBACR;MAAK,EAAE,EAAC,gBAAgB;MAAA,wBACvB;QAAO,IAAI,EAAC,MAAM;QAAC,WAAW,EAAC,WAAW;QAAC,OAAO,EAAE,IAAI,CAACb,YAAa;QAAC,SAAS;MAAA;QAAA;QAAA;QAAA;MAAA,QAAS,EACxF,IAAI,CAACH,KAAK,CAACC,UAAU,GAAC,CAAC,CAAC,gBAAG;QAAA,wBAAgB,IAAI,CAACD,KAAK,CAACC,UAAU;MAAA;QAAA;QAAA;QAAA;MAAA,QAAQ,GAAG,IAAI;IAAA;MAAA;MAAA;MAAA;IAAA,QAC3E;EACL;AAGH;AAAC,wBA/BcgB,KAAK,EAAC;EACnB,IAAGA,KAAK,CAACC,MAAM,CAACC,KAAK,EAAC;IACrB,IAAI,CAACjB,OAAO,GAACN,KAAK,CAACwB,iBAAiB,CAACH,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC;IACxDE,OAAO,CAACC,GAAG,CAACL,KAAK,CAACC,MAAM,CAACC,KAAK,EAAC,GAAG,EAACI,GAAG,CAAC;IACvC,IAAI,CAACC,QAAQ,CAAC;MAACvB,UAAU,EAAC,IAAI,CAACC,OAAO,CAACuB;IAAM,CAAC,CAAC;IAC/C,IAAG,IAAI,CAACzB,KAAK,CAACC,UAAU,EAAC;MAAA;MACxB,IAAG,wBAAO,IAAI,CAACG,KAAK,iDAAV,aAAYsB,SAAS,KAAE,UAAU,EAAC;QAC3C,IAAI,CAACtB,KAAK,CAACsB,SAAS,CAAC,IAAI,CAACxB,OAAO,CAAC;MACnC,CAAC,MAAI;QACJyB,OAAO,CAACC,IAAI,CAACP,OAAO,CAACC,GAAG,EAACD,OAAO,CAACQ,KAAK,CAAC;MACxC;IACD;EACD;AACD"},"metadata":{},"sourceType":"module","externalDependencies":[]}