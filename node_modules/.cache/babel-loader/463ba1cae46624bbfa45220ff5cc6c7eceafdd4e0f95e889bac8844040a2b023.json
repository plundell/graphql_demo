{"ast":null,"code":"import { GraphQLClient } from 'graphql-request';\n\n// The ./types.ts file is generated by the module graphql-codegen (which has to be run manually) \n// from all .graphql files in this project. We export it so others don't have to import 2 things\nexport * from './types';\nexport const uri = \"https://countries.trevorblades.com\";\nexport const graphql = new GraphQLClient(uri, {\n  headers: {}\n});\nexport let EntityType;\n(function (EntityType) {\n  EntityType[\"Country\"] = \"Country\";\n  EntityType[\"Continent\"] = \"Continent\";\n  EntityType[\"Language\"] = \"Language\";\n})(EntityType || (EntityType = {}));\nexport let QueryName;\n(function (QueryName) {\n  QueryName[\"countries\"] = \"countries\";\n  QueryName[\"continents\"] = \"continents\";\n  QueryName[\"languages\"] = \"languages\";\n})(QueryName || (QueryName = {}));\n;\n// interface M{[key:string]:E}\nconst EntityMap = {\n  'coun': {\n    type: EntityType[0],\n    query: 'countries'\n  },\n  'cont': {\n    type: 'Continent',\n    query: 'continents'\n  },\n  'lang': {\n    type: 'Language',\n    query: 'languages'\n  }\n};\nfunction toMap(x) {\n  const key = x.toLowerCase().slice(0, 4);\n  if (key in EntityMap) return EntityMap[key];else throw new Error(`Not a valid Entity: {x}`);\n}\nfunction toEntityType(x) {\n  return toMap(x).type;\n}\nfunction toQueryName(x) {\n  return toMap(x).query;\n}\nexport function assertEntityType(x) {\n  if (typeof x == 'string' && entityTypes.includes(x)) return x;else throw new TypeError(\"Not an entity type: \" + String(x));\n}","map":{"version":3,"names":["GraphQLClient","uri","graphql","headers","EntityType","QueryName","EntityMap","type","query","toMap","x","key","toLowerCase","slice","Error","toEntityType","toQueryName","assertEntityType","entityTypes","includes","TypeError","String"],"sources":["/home/buck/Documents/software/formulate_graphql/src/services/countries-api/countries-api.service.ts"],"sourcesContent":["import { GraphQLClient } from 'graphql-request'\n\n// The ./types.ts file is generated by the module graphql-codegen (which has to be run manually) \n// from all .graphql files in this project. We export it so others don't have to import 2 things\nexport * from './types'\n\nexport const uri = \"https://countries.trevorblades.com\";\n\nexport const graphql = new GraphQLClient(uri, { headers: {} });\n\nexport enum EntityType {\n\tCountry='Country'\n\t,Continent='Continent'\n\t,Language='Language'\n}\nexport enum QueryName{\n\tcountries='countries'\n\t,continents='continents'\n\t,languages='languages'\n}\ninterface E{type:EntityType,query:QueryName};\n// interface M{[key:string]:E}\nconst EntityMap:{[key:string]:E}={\n\t'coun':{type:EntityType[0],query:'countries'},\n\t'cont':{type:'Continent',query:'continents'},\n\t'lang':{type:'Language',query:'languages'}\n}\nfunction toMap(x:string){\n\tconst key=x.toLowerCase().slice(0,4);\n\tif(key in EntityMap)\n\t\treturn EntityMap[key];\n\telse\n\t\tthrow new Error(`Not a valid Entity: {x}`);\n}\nfunction toEntityType(x:string){\n\treturn toMap(x).type;\n}\nfunction toQueryName(x:string){\n\treturn toMap(x).query;\n}\n\nexport function assertEntityType(x:any):EntityType{\n\tif(typeof x=='string' && entityTypes.includes(x))\n\t\treturn x as unknown as EntityType\n\telse\n\t\tthrow new TypeError(\"Not an entity type: \"+String(x));\n}\n"],"mappings":"AAAA,SAASA,aAAa,QAAQ,iBAAiB;;AAE/C;AACA;AACA,cAAc,SAAS;AAEvB,OAAO,MAAMC,GAAG,GAAG,oCAAoC;AAEvD,OAAO,MAAMC,OAAO,GAAG,IAAIF,aAAa,CAACC,GAAG,EAAE;EAAEE,OAAO,EAAE,CAAC;AAAE,CAAC,CAAC;AAE9D,WAAYC,UAAU;AAIrB,WAJWA,UAAU;EAAVA,UAAU;EAAVA,UAAU;EAAVA,UAAU;AAAA,GAAVA,UAAU,KAAVA,UAAU;AAKtB,WAAYC,SAAS;AAIpB,WAJWA,SAAS;EAATA,SAAS;EAATA,SAAS;EAATA,SAAS;AAAA,GAATA,SAAS,KAATA,SAAS;AAKuB;AAC5C;AACA,MAAMC,SAA0B,GAAC;EAChC,MAAM,EAAC;IAACC,IAAI,EAACH,UAAU,CAAC,CAAC,CAAC;IAACI,KAAK,EAAC;EAAW,CAAC;EAC7C,MAAM,EAAC;IAACD,IAAI,EAAC,WAAW;IAACC,KAAK,EAAC;EAAY,CAAC;EAC5C,MAAM,EAAC;IAACD,IAAI,EAAC,UAAU;IAACC,KAAK,EAAC;EAAW;AAC1C,CAAC;AACD,SAASC,KAAK,CAACC,CAAQ,EAAC;EACvB,MAAMC,GAAG,GAACD,CAAC,CAACE,WAAW,EAAE,CAACC,KAAK,CAAC,CAAC,EAAC,CAAC,CAAC;EACpC,IAAGF,GAAG,IAAIL,SAAS,EAClB,OAAOA,SAAS,CAACK,GAAG,CAAC,CAAC,KAEtB,MAAM,IAAIG,KAAK,CAAE,yBAAwB,CAAC;AAC5C;AACA,SAASC,YAAY,CAACL,CAAQ,EAAC;EAC9B,OAAOD,KAAK,CAACC,CAAC,CAAC,CAACH,IAAI;AACrB;AACA,SAASS,WAAW,CAACN,CAAQ,EAAC;EAC7B,OAAOD,KAAK,CAACC,CAAC,CAAC,CAACF,KAAK;AACtB;AAEA,OAAO,SAASS,gBAAgB,CAACP,CAAK,EAAY;EACjD,IAAG,OAAOA,CAAC,IAAE,QAAQ,IAAIQ,WAAW,CAACC,QAAQ,CAACT,CAAC,CAAC,EAC/C,OAAOA,CAAC,CAAyB,KAEjC,MAAM,IAAIU,SAAS,CAAC,sBAAsB,GAACC,MAAM,CAACX,CAAC,CAAC,CAAC;AACvD"},"metadata":{},"sourceType":"module","externalDependencies":[]}